---
title: CSAPP-3-程序的机器级表示
tags:
  - CSAPP
categories: 操作系统
date: 2019-10-08 23:08:05
author: coderluo
---

> 如果能完全理解计算机系统以及它对应用程序的影响，那么恭喜你，你走上了一条为数不多的大牛道路。

> 最近由于工作比较忙，看书时间比较少，所以将 “程序的机器级表示” 这章拖延到了这周才开始阅读，本文继前两篇之后继续深入学习计算机系统中程序的机器级表示；如果对之前的文章感兴趣可以点击阅读：
- [《CSAPP-1:计算机系统漫游》](<http://coderluo.top/2019/08/30/csapp/csapp-1-ji-suan-ji-xi-tong-man-you/>)
- [《CSAPP-2-信息的表示和处理》](<http://coderluo.top/2019/09/14/csapp/csapp-2-xin-xi-de-biao-shi-he-chu-li/>)



**3.4 访问信息**

**3.4.1操作数指示符**

 大多数指令都有一个或多个**操作数，**指示出执行一个操作中要引用的源数据值，以及放置结果的目标位置。

**操作数的三种类型**

- 立即数
- 寄存器
- 存储器

 

**寻址方式：**

**1.立即数寻址方式**

**2.寄存器寻址方式**

**3.存储器寻址方式**

- 直接寻址方式
- 寄存器间接寻址方式
- 寄存器相对寻址方式
- 基址变址寻址方式
- 相对基址变址寻址方式

**3.4.2 数据传送指令**

**mov类指令：**将源操作数的值复制到目的操作数中。源操作数指定的值是一个立即数，存储在寄存器中或存储器中。目的操作数制指定一个位置，要么是一个寄存器，要么是一个存储器。

- movb 传送字节
- movw 传送字
- movl 传送双字
- movs 符号位扩展
- movz 零扩展

**push：把数据压入栈中**

**pop：删除数据**

- 后进先出
- 栈指针指向栈顶元素
- 栈朝低地址方向增长

**3.4.3 数据传送示例**

- c语言中的指针其实就是地址，间接引用指针就是将该指针放在一个**寄存器**中，然后在存储器引用中使用这个寄存器
- 局部变量通常保存在**寄存器**中，而不是存储器

**3.5 算术和逻辑操作**

**3.5.1 加载有效地址**

加载有效地址指令leal实际上就是movl指令的变形。它的指令形式是从存储器读取数据到寄存器，但实际根本没引用存储器。

**3.5.2 一元操作和二元操作**

**一元操作：**只有一个操作数，既是源又是目的，可以是一个寄存器，或者存储器位置。

**二元操作：**源操作数 目的操作数

- 第一个操作数可以是立即数、寄存器或者存储器位置
- 第二个操作数可以是寄存器或者存储器位置
- 但是不能同时是存储器位置

**3.5.3 移位操作**

- SAL 算术左移
- SHL 逻辑左移
- SAR 算术右移（补符号位）
- SHR 逻辑右移（补0）

**3.5.5 特殊的算术操作**

![img](https://note.youdao.com/yws/public/resource/dfbc1fbd3191971d663ecbcb51bbc4f7/xmlnote/41FD155E21B54245A75B52C01B81BBAB/5403)

